<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:f="http://java.sun.com/jsf/core"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:p="http://primefaces.org/ui">
<ui:composition template="/template/templateadmin.xhtml"> 
<ui:param name="page_name" value="Accueil" />
<ui:define name="content">
<!-- BEGIN : TP1 JSF Introduction Login -->
<p:menubar>
<p:menuitem value="Stock" icon="pi pi-fw pi-inbox" outcome="/pages/admin/stock"></p:menuitem>
<p:menuitem value="Demandes de stocks" icon="pi pi-fw pi-plus" outcome="/pages/admin/demandesdestock_admin"></p:menuitem>

<p:menuitem value="Stock epuisé" icon="pi pi-fw pi-exclamation-circle" outcome="/pages/admin/epuisé"></p:menuitem>
</p:menubar>


<p:panel >
<h:form>
<p:toolbarGroup align="right">
             
                <p:commandButton value="Export" icon="pi pi-upload" styleClass="ui-button-help" ajax="false">
                    <p:dataExporter type="pdf" target="dt-demande" fileName="Demandes"/>
                </p:commandButton>
               
                
            </p:toolbarGroup>

<p:dataTable  id="dt-demande" widgetVar="dtdemande" value="#{demandestockcontroller.demandestock}" var="Demandestock"  reflow="true" styleClass="products-table"
                      rowKey="#{product.id}" paginator="true"  
                     rows="3" rowSelectMode="add" paginatorPosition="bottom"> 
<p:column><f:facet name="header"><h:outputText value="Produit" /></f:facet>
<h:outputText value="#{Demandestock.nomp}" /></p:column>
<p:column><f:facet name="header"><h:outputText value="Date de création" /></f:facet>
<h:outputText value="#{Demandestock.dateCreation}" /></p:column>
<p:column><f:facet name="header"><h:outputText value="quantité" /></f:facet>
<h:outputText value="#{Demandestock.quantity}" /></p:column>
<p:column><f:facet name="header"><h:outputText value="Etat" /></f:facet>
<h:outputText value="#{Demandestock.etatdemande}" /></p:column>



<p:column exportable="false" > <f:facet name="header"><h:outputText value="Action" /></f:facet>
<p:commandButton action="#{demandestockcontroller.removedemande(Demandestock.idds)}" icon="pi pi-times" styleClass="rounded-button ui-button-danger ui-button-flat" ></p:commandButton> </p:column>

</p:dataTable>
<p:commandButton action="#{demandestockcontroller.redirect}" value="Retour" /> 
</h:form>
</p:panel>
</ui:define>
</ui:composition>
</html>
