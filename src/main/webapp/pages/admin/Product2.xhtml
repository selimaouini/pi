<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:f="http://java.sun.com/jsf/core"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:p="http://primefaces.org/ui">
<ui:composition template="/template/templateadmin.xhtml"> 
<ui:param name="page_name" value="Accueil" />
<ui:define name="content">

<p:panel>
<h:form>
 <p:growl>
            <p:autoUpdate/>
        </p:growl>
<p:messages id="msgs"/>

<p:dialog header="Add A Product" showEffect="fade" modal="true"
                  widgetVar="manageProductDialog" responsive="true">
            <p:outputPanel id="manage-product-content" class="ui-fluid">
                <p:outputPanel>
                    
                    <div class="p-field">
               
                        <p:outputLabel for="productName">ProductName</p:outputLabel>
                        <p:inputText id="productName" value="#{ProductController.productName}" required="true" label="productName">
                        
                        </p:inputText>
                          <p:message for="productName" display="text"/>
                        <p:tooltip for="productName" value="Enter the product name" my="right center" at="left center"/>
                         
                    </div>
                     
                       <div>
                        <p:selectOneMenu id="option" value="#{ProductController.categ}">
                    <f:selectItem itemLabel="Select One" itemValue=""/>
                    <f:selectItem itemLabel="hello" itemValue="cremerie"/>
                    <f:selectItem itemLabel="hello" itemValue="boissons"/>
                   
                    <f:facet name="footer">
                        <p:divider styleClass="p-mt-0" />
                        <h:outputText value="2 CatÃ©gories" style="font-weight:bold;"/>
                    </f:facet>
                </p:selectOneMenu>
       
                       </div>
                    <div class="p-field">
                        <p:outputLabel for="description">Description</p:outputLabel>
                        <p:inputTextarea id="description" value="#{ProductController.description}" required="true" label="description"/>
                         <p:message for="description" display="text"/>
                        <p:tooltip for="description" value="What about a slight description" my="right center" at="left center"/>
                    </div>
                    <div class="p-field">
                        <p:outputLabel for="dateexpiration">Date dexpiration</p:outputLabel>
                        <p:datePicker id="dateexpiration" value="#{ProductController.dateexpiration}" required="true" label="dateexpiration"/>
                        <p:message for="dateexpiration" display="text"/>
                        
                    </div>
                     <div class="p-field p-col">
                        <p:outputLabel for="price" value="TND($):">Price</p:outputLabel>
                        <p:inputText id="price" value="#{ProductController.price}"  required="true" label="price" type="number"   symbolPosition="s"
                                           decimalSeparator="." thousandSeparator=","/>
                         <p:message for="price" display="text"/>                  
                    <p:tooltip for="price" value="inserez le prix svp" my="right center" at="left center"/>
                    </div>
                    
                    
                    
                    
                    
                    <div class="p-field">
                    <p:outputLabel for="barCode">Bar Code</p:outputLabel>
                    <p:inputText id="barCode" value="#{ProductController.barCode}" required="true" type="number" />
                    
                      
                     <p:message for="barCode" display="text"/>    
                    <p:tooltip for="barCode" value="inserez  le code a bare svp" my="right center" at="left center"/>
                    </div>
                                  
                </p:outputPanel>
            </p:outputPanel>

            <f:facet name="footer">
           
                <p:commandButton  value="add" icon="pi pi-check" actionListener="#{ProductController.addProduct()}" update="manage-product-content" process="manage-product-content @this" onclick="start()" widgetVar="startButton1" styleClass="p-mr-2"  />
                <p:commandButton value="Cancel" icon="pi pi-times" onclick="PF('manageProductDialog').hide()"
                                 class="ui-button-secondary"/>
            </f:facet>
        </p:dialog>
<p:commandButton value="New" icon="pi pi-plus" actionListener="#{ProductController.addProduct()}" oncomplete="PF('manageProductDialog').show()" styleClass="ui-button-success" style="margin-right: .5rem">
                    
</p:commandButton>


<p:dialog header="Add A Promo" showEffect="fade" modal="true"
                  widgetVar="managePromotionDialog" responsive="true">
            <p:outputPanel id="manage-promotion-content" class="ui-fluid">
                <p:outputPanel>
                    
                    <div class="p-field">
                        <p:outputLabel for="libelle">Libelle</p:outputLabel>
                        <p:inputText id="libelle" value="#{PromotionController.libelle}" />
                    </div>
                    <div class="p-field">
                        <p:outputLabel for="desc">Description</p:outputLabel>
                        <p:inputTextarea id="desc" value="#{PromotionController.desc}"/>
                    </div>
                    <div class="p-field">
                        <p:outputLabel for="startDate">Start Date</p:outputLabel>
                        <p:datePicker id="startDate" value="#{PromotionController.startDate}"/>
                    </div>
                     <div class="p-field">
                        <p:outputLabel for="endDate">End Date</p:outputLabel>
                        <p:datePicker id="endDate" value="#{PromotionController.endDate}"/>
                    </div>
                    <div class="p-field">
                    
                    <p:outputLabel for="percentage">percentage</p:outputLabel>
                    <p:inputTextarea id="percentage" value="#{PromotionController.percentage}"/>
                    </div>
                </p:outputPanel>
            </p:outputPanel>

            <f:facet name="footer">
                <p:commandButton value="add" icon="pi pi-check" actionListener="#{PromotionController.addPromos()}"
                                 update="manage-promotion-content" process="manage-promotion-content @this"/>
                <p:commandButton value="Cancel" icon="pi pi-times" onclick="PF('managePromotionDialog').hide()"
                                 class="ui-button-secondary"/>
            </f:facet>
        </p:dialog>

<p:dialog header="Add An advertissement" showEffect="fade" modal="true"
                  widgetVar="manageAdsDialog" responsive="true">
            <p:outputPanel id="manage-Ads-content" class="ui-fluid">
                <p:outputPanel>
                    
                    <div class="p-field">
                        <p:outputLabel for="madia">Media</p:outputLabel>
                        <p:inputText id="madia" value="#{AdsController.madia}" />
                    </div>
                    <div class="p-field">
                        <p:outputLabel for="mediatype">Media Type</p:outputLabel>
                        <p:inputTextarea id="mediatype" value="#{AdsController.mediaType}"/>
                    </div>
                    <div class="p-field">
                        <p:outputLabel for="beginDate">Start Date</p:outputLabel>
                        <p:datePicker id="beginDate" value="#{AdsController.beginDate}"/>
                    </div>
                     <div class="p-field">
                        <p:outputLabel for="finishDate">finish Date</p:outputLabel>
                        <p:datePicker id="finishDate" value="#{AdsController.finishDate}"/>
                    </div>
                    <div class="p-field">
                    <p:outputLabel for="target">target</p:outputLabel>
                    <p:inputTextarea id="target" value="#{AdsController.target}"/>
                    </div>
                    <p:fileUpload value="#{AdsController.file}" mode="simple" skinSimple="true"/>

       
                </p:outputPanel>
            </p:outputPanel>

            <f:facet name="footer">
                <p:commandButton value="add" icon="pi pi-check" actionListener="#{AdsController.AddAd()}"
                                 update="manage-Ads-content" process="manage-Ads-content @this"/>
                <p:commandButton value="Cancel" icon="pi pi-times" onclick="PF('manageAdsDialog').hide()"
                                 class="ui-button-secondary"/>
            </f:facet>
        </p:dialog>
      

<p:dataTable value="#{ProductController.product}" var="Product" border="1">

<p:column><f:facet name="header"><h:outputText value="productName" /></f:facet>
<h:outputText value="#{Product.productName}" /></p:column>

<p:column><f:facet name="header"><h:outputText value="Picture" /></f:facet>

<p:graphicImage name="/pages/admin/images/smile.jpg" width="50" height="50" /></p:column>
                    
                


<p:column><f:facet name="header"><h:outputText value="description" /></f:facet>
<h:outputText value="#{Product.description}" /></p:column>

<p:column><f:facet name="header"><h:outputText value="price" /></f:facet>
<h:outputText value="#{Product.price}" /></p:column>
<p:column><f:facet name="header"><h:outputText value="pricepromotion" /></f:facet>
<h:outputText value="#{Product.pricepromotion}" /></p:column>
<p:column><f:facet name="header"><h:outputText value="Code a barre" /></f:facet>
<p:barcode value="#{Product.barCode}" type="codabar" /></p:column>

<p:column><f:facet name="header"><h:outputText value="createdAt" /></f:facet>
<h:outputText value="#{Product.createdAt}" /></p:column>
<p:column><f:facet name="header"><h:outputText value="mostViewed" /></f:facet>
<h:outputText value="#{Product.mostViewed}" /></p:column>



<p:column> 

<p:commandButton  icon="pi pi-pencil" 
                                 oncomplete="PF('manageProductDialog').show()"
                                 styleClass="edit-button rounded-button ui-button-success" process="@this">
                    
                    <p:resetInput target=":form:manage-product-content"/>
                </p:commandButton>
              
                <p:commandButton action="#{ProductController.deleteProduct(Product.idProduct)}"  class="ui-button-warning rounded-button" icon="pi pi-trash" process="@this " oncomplete="PF('deleteProductDialog').show()" >
                </p:commandButton>
                
                
                
              
</p:column>

<p:column><f:facet  name="header"> <h:outputText value="Add Promotion" /></f:facet>
 <p:commandButton  icon="pi pi-plus" actionListener="#{PromotionController.addPromos()}" oncomplete="PF('managePromotionDialog').show()" styleClass="rounded-button ui-button-danger" style="margin-right: .5rem">
                    
</p:commandButton>
 </p:column>
 
 
 <p:column><f:facet  name="header"> <h:outputText value="Add ADS" /></f:facet>
 <p:commandButton icon="pi pi-bell" actionListener="#{AdsController.AddAd()}" oncomplete="PF('manageAdsDialog').show()" styleClass="rounded-button ui-button-warning" />
 </p:column>
 
</p:dataTable>
</h:form>
</p:panel>

</ui:define>

</ui:composition>
</html>