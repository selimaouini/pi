<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:f="http://java.sun.com/jsf/core"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:ui="http://java.sun.com/jsf/facelets"

xmlns:p="http://primefaces.org/ui">
<ui:composition template="/template/templateadmin.xhtml"> 

<ui:param name="page_name" value="Accueil" />
<ui:define name="content">
<!-- BEGIN : TP1 JSF Introduction Login -->
<p:menubar>
<p:menuitem value="Stock" icon="pi pi-fw pi-inbox" outcome="/pages/admin/stock"></p:menuitem>
<p:menuitem value="Demandes de stocks" icon="pi pi-fw pi-plus" outcome="/pages/admin/demandesdestock_admin"></p:menuitem>

<p:menuitem value="Stock epuisé" icon="pi pi-fw pi-exclamation-circle" outcome="/pages/admin/epuisé"></p:menuitem>
</p:menubar>

<p:panel columns="2">
<h:form>




<p:toolbarGroup align="right">
             
                <p:commandButton value="Export" icon="pi pi-upload" styleClass="ui-button-help" ajax="false">
                    <p:dataExporter type="pdf" target="dt-products" fileName="products"/>
                </p:commandButton>
               
                
            </p:toolbarGroup>
<p:dataTable value="#{epuiséController.product}" var="Product" border="1">

<p:column><f:facet name="header"><h:outputText value="Nom de produit" /></f:facet>
<h:outputText value="#{Product.productName}" /></p:column>
<p:column><f:facet name="header"><h:outputText value="Code a barre" /></f:facet>

 
        <p:barcode value="#{Product.barCode}"  type="codabar"/>
</p:column>
<p:column> <f:facet name="header"><h:outputText value="action" /></f:facet>

   
  <p:commandButton value="Demander" var="Product" icon="pi pi-plus" 
   oncomplete="PF('manageProductDialog').show()" styleClass="ui-button-success"
    style="margin-right: .5rem">
        <p:dialog header="Demander" showEffect="fade" modal="true"
                  widgetVar="manageProductDialog" responsive="true">
                   
            <p:outputPanel id="manage-product-content" class="ui-fluid">
                <p:outputPanel>
                    
                    
                   
                    <p:outputLabel for="quantity">Quantité</p:outputLabel>
                    <p:spinner id="quantity" min="0" max="50" value="#{demandestockcontroller.quantity}"/>
                   
                </p:outputPanel>
            </p:outputPanel>

            <f:facet name="footer">
                <p:commandButton action="#{demandestockcontroller.demander()}" value="demander" icon="pi pi-check" 
                                 />
                <p:commandButton value="annuler" icon="pi pi-times" onclick="PF('manageProductDialog').hide()"
                                 class="ui-button-secondary"/>
            </f:facet>
        </p:dialog>            
</p:commandButton>
  </p:column>





</p:dataTable>

</h:form>

</p:panel>


 
</ui:define>
</ui:composition>
</html>